<script>
  firebase.initializeApp({
    apiKey: "AIzaSyBSnnmaodnDOqIzRZdTsZeOJlGjmmo0_dk",
    authDomain: "pointage-heures.firebaseapp.com",
    projectId: "pointage-heures"
  });
  const db = firebase.firestore();

  async function tester() {
    const resultat = document.getElementById("resultat");
    resultat.textContent = "Listing complet de la collection 'heures'...";

    const snapshot = await db.collection("heures").get();
    if (snapshot.empty) {
      resultat.textContent = "La collection 'heures' est VIDE.";
    } else {
      let output = "";
      snapshot.forEach(doc => {
        output += "Document ID: " + doc.id + "\n";
        output += JSON.stringify(doc.data(), null, 2) + "\n\n";
      });
      resultat.textContent = output;
    }
  }
</script>
